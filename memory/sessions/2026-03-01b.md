# Session: 2026-03-01 (Evening)

## Focus
v5.17.1 → v5.18.0 — Waitlist Removal + Roadmap Tier Badges + Learning Centre

## Accomplished

### 1. Waitlist Module Removal (v5.17.1)
- Removed Waitlist model from `prisma/schema.prisma`
- Created migration `0037_drop_waitlist` — `DROP TABLE IF EXISTS "Waitlist"`
- Deleted: `src/app/waitlist/` (page + form), `src/app/api/waitlist/` (3 routes), `src/components/admin/admin-waitlist.tsx`
- Removed `WaitlistEntry` from `admin-types.ts`
- Cleaned up references in `auth.ts` (OAuth callback), `login-form.tsx` (error), `page.tsx` (footer link)
- Removed unused `CheckCircle2` import from `register-form.tsx`

### 2. Roadmap Tier Badges (v5.17.1)
- Changed `pro?: boolean` → `tier?: "starter" | "pro" | "scale"` on RoadmapItem
- Mapped all items to correct tiers from `FEATURE_TIER` in `tier.ts`
- Colour-coded: blue (Starter), primary (Pro), amber (Scale)
- Added 2 missing shipped features: Part Drawings (v5.8), Master Backup (v5.10)

### 3. Learning Centre (v5.18.0)
**Data layer:** `src/lib/learn-articles.ts`
- 10 categories: getting-started, calculator, quoting, clients, jobs, inventory, invoicing, integrations, advanced, business-guides
- 38 articles with full HTML content
- Helpers: getLearnArticle, getArticlesByCategory, searchArticles, addHeadingIds, extractHeadings

**Components (6):** `src/components/learn/`
- `difficulty-badge.tsx` — green/amber/red colour coding
- `article-card.tsx` — category + difficulty + tier badges, title, excerpt, reading time
- `category-card.tsx` — icon + label + description + count, links to filtered listing
- `learn-search.tsx` — search + category/difficulty dropdowns, URL param sync
- `table-of-contents.tsx` — IntersectionObserver, sticky sidebar, active heading highlight
- `article-feedback.tsx` — thumbs up/down, localStorage persistence

**Pages (3):** `src/app/learn/`
- `page.tsx` — listing: hero, category grid, searchable article grid, CTA
- `[slug]/page.tsx` — detail: breadcrumbs, two-column (article + TOC), feedback, related, JSON-LD
- `[slug]/opengraph-image.tsx` — dynamic OG images (edge runtime)

**Integration:**
- Middleware: `/learn` added to publicPaths
- Sitemap: +40 URLs (/learn + 38 article slugs)
- Landing page: "Learn" in nav + "Learning Centre" in footer
- Blog pages: "Learn" in nav
- Sidebar: "Learning Centre" with BookOpen icon

**Build:** 196 static pages (was 156), compiled in 16.3s

## Files Modified
- `package.json` (5.17.0 → 5.18.0)
- `prisma/schema.prisma` (removed Waitlist model)
- `prisma/migrations/0037_drop_waitlist/migration.sql` (new)
- `src/lib/learn-articles.ts` (new)
- `src/components/learn/difficulty-badge.tsx` (new)
- `src/components/learn/article-card.tsx` (new)
- `src/components/learn/category-card.tsx` (new)
- `src/components/learn/learn-search.tsx` (new)
- `src/components/learn/table-of-contents.tsx` (new)
- `src/components/learn/article-feedback.tsx` (new)
- `src/app/learn/page.tsx` (new)
- `src/app/learn/[slug]/page.tsx` (new)
- `src/app/learn/[slug]/opengraph-image.tsx` (new)
- `src/app/page.tsx` (nav + footer links)
- `src/app/blog/page.tsx` (nav link)
- `src/app/blog/[slug]/page.tsx` (nav link)
- `src/app/sitemap.ts` (learn URLs)
- `src/middleware.ts` (publicPaths)
- `src/components/layout/sidebar.tsx` (Learning Centre link)
- `src/components/roadmap/roadmap-page.tsx` (tier badges)
- `src/components/admin/admin-types.ts` (removed WaitlistEntry)
- `src/app/(auth)/register/register-form.tsx` (unused import)
- `src/app/(auth)/login/login-form.tsx` (removed WaitlistMode error)
- `src/lib/auth.ts` (removed waitlist OAuth check)
- Deleted: waitlist routes, pages, components

## Version
5.17.0 → 5.17.1 → 5.18.0
